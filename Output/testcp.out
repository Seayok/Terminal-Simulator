root:/$ mkdir normal1
root:/$ touch normal1/normal.txt
root:/$ mkdir normal2
root:/$ cp normal1/normal.txt normal2/normal_copy.txt
root:/$ ls -l normal1
-rw-r-- root normal.txt
root:/$ ls -l normal2
-rw-r-- root normal_copy.txt
root:/$ cp normal/nothing.txt nothing.txt
cp: No such file
root:/$ 
root:/$ adduser user
root:/$ touch lack_r.txt
root:/$ chmod o=wx lack_r.txt
root:/$ chmod a=rwx .
root:/$ su user
user:/$ cp lack_r.txt non_exsist/q.txt
cp: No such file or directory
user:/$ mkdir sampledir
user:/$ cp lack_r.txt sampledir/lack_r
cp: Permission denied
user:/$ su
root:/$ chmod a=rwx lack_r.txt
root:/$ su user
user:/$ cp lack_r.txt sampledir/lack_r
user:/$ ls -l sampledir
-rw-r-- user lack_r
user:/$ 
user:/$ touch lack_parent_w.txt
user:/$ chmod a=rwx lack_parent_w.txt
user:/$ su user
user:/$ cp lack_parent_w.txt lack_x.txt
user:/$ su
root:/$ chmod o=rwx /
root:/$ su user
user:/$ cp lack_parent_w.txt lack_x.txt
cp: File exists
user:/$ ls -l
-rwxrwx user lack_parent_w.txt
-rwxrwx root lack_r.txt
-rw-r-- user lack_x.txt
drwxr-x root normal1
drwxr-x root normal2
drwxr-x user sampledir
user:/$ su
root:/$ mkdir -p an1/an2
root:/$ cp lack_x.txt an1/an2/lack_x.txt
root:/$ chmod a=rw an1
root:/$ chmod a=rwx an1/an2
root:/$ su user
user:/$ cp an1/an2/lack_x.txt lack_x_cp.txt
cp: Permission denied
user:/$ su
root:/$ chmod a=rwx an1
root:/$ su user
user:/$ cp an1/an2/lack_x.txt lack_dest_x.txt
user:/$ ls -l
drwxrwx root an1
-rw-r-- user lack_dest_x.txt
-rwxrwx user lack_parent_w.txt
-rwxrwx root lack_r.txt
-rw-r-- user lack_x.txt
drwxr-x root normal1
drwxr-x root normal2
drwxr-x user sampledir
user:/$ su
root:/$ chmod a=rw an1
root:/$ su user
user:/$ cp lack_dest_x.txt an1/an2/lack.txt
cp: Permission denied
user:/$ su
root:/$ chmod a=rwx /an1
root:/$ su user
user:/$ cp lack_dest_x.txt an1/an2/lack.txt
user:/$ ls -l -a an1/an2
drwxrwx root .
drwxrwx root ..
-rw-r-- user lack.txt
-rw-r-- root lack_x.txt
user:/$ su
root:/$ chmod o=rx /
root:/$ su user
user:/$ cp an1/an2/lack.txt lack_dest_w.txt
cp: Permission denied
user:/$ su
root:/$ chmod o=rwx /
root:/$ su user
user:/$ cp an1/an2/lack.txt lack_dest_w.txt
user:/$ ls -l
drwxrwx root an1
-rw-r-- user lack_dest_w.txt
-rw-r-- user lack_dest_x.txt
-rwxrwx user lack_parent_w.txt
-rwxrwx root lack_r.txt
-rw-r-- user lack_x.txt
drwxr-x root normal1
drwxr-x root normal2
drwxr-x user sampledir
user:/$ 
user:/$ 
user:/$ su
root:/$ touch file_exist.txt
root:/$ touch normal1/normal2.txt
root:/$ cp file_exist.txt normal1/normal2.txt
cp: File exists
root:/$ cp normal/nothing.txt nothing_folder/nothing.txt
cp: No such file
root:/$ cp file_exist.txt normal1
cp: Destination is a directory
root:/$ cp normal1 file_exist.txt
cp: File exists
root:/$ cp normal1 newfile.txt
cp: Source is a directory
root:/$ cp normal1/normal2.txt nothing_folder/nothing.txt
cp: No such file or directory
root:/$ exit
bye, root
