root:/$ mkdir normal
root:/$ ls -l
drwxr-x root normal
root:/$ chmod a=x normal
/normal
root:/$ ls -l
d--x--x root normal
root:/$ chmod u=rw normal 
/normal
root:/$ ls -l
drw---x root normal
root:/$ chmod o= normal
/normal
root:/$ ls -l
drw---- root normal
root:/$ chmod o+wx normal
/normal
root:/$ ls -l
drw--wx root normal
root:/$ chmod a-w normal 
/normal
root:/$ ls -l
dr----x root normal
root:/$ chmod u-rwx normal
/normal
root:/$ ls -l
d-----x root normal
root:/$ mkdir -p test/test_..
root:/$ cd test/test_..
root:/test/test_..$ chmod a=rwx ..
/test
root:/test/test_..$ ls -l -d /test
drwxrwx root /test
root:/test/test_..$ cd /
root:/$ chmod a=rw notfoundfile
chmod: No such file or directory
root:/$ adduser user
root:/$ mkdir -p "test operation not_permitted/testdir"
root:/$ su user
user:/$ chmod a=rwx "test operation not_permitted/testdir"
/test operation not_permitted/testdir
chmod: Operation not permitted
user:/$ ls -l -d "test operation not_permitted/testdir"
drwxr-x root test operation not_permitted/testdir
user:/$ su
root:/$ chown user "test operation not_permitted/testdir"
root:/$ ls -l -d "test operation not_permitted/testdir"
drwxr-x user test operation not_permitted/testdir
root:/$ su user
user:/$ chmod a=rwx "test operation not_permitted/testdir"
/test operation not_permitted/testdir
user:/$ ls -l -d "test operation not_permitted/testdir"
drwxrwx user test operation not_permitted/testdir
user:/$ mkdir -p "test permission/ancestorx"
user:/$ touch "test permission/ancestorx/testfile"
touch: Ancestor directory does not exist
user:/$ chown user "test permission/ancestorx/testfile"
chown: Operation not permitted
user:/$ ls -l  "test permission/ancestorx/testfile"
ls: No such file or directory
user:/$ chmod o-x "test permission"
chmod: No such file or directory
user:/$ su user
user:/$ chmod a=rwx "test permission/ancestorx/testfile"
chmod: No such file or directory
user:/$ su
root:/$ chmod o+x "test permission"
chmod: No such file or directory
root:/$ su user
user:/$ chmod a=rwx "test permission/ancestorx/testfile"
chmod: No such file or directory
user:/$ ls -l "test permission/ancestorx/testfile"
ls: No such file or directory
user:/$ su
root:/$ touch test_invalid_mode
root:/$ chmod a+=x test_invalid_mode
chmod: Invalid mode
root:/$ ls -l
d-----x root normal
drwxrwx root test
drwxr-x root test operation not_permitted
-rw-r-- root test_invalid_mode
root:/$ chmod a==rwx test_invalid_mode
chmod: Invalid mode
root:/$ chmod b+rchmod u test_invalid_mode
chmod: Invalid syntax
root:/$ chmod a+rui test_invalid_mode
chmod: Invalid mode
root:/$ chmod a"r test_invalid_mode
chmod: Invalid syntax
root:/$ chmod $@#=@#
chmod: Invalid syntax
root:/$ chmod 
chmod: Invalid syntax
root:/$ ls -l
d-----x root normal
drwxrwx root test
drwxr-x root test operation not_permitted
-rw-r-- root test_invalid_mode
root:/$ touch "test valid mode"
root:/$ chmod =rwx "test valid mode"
/test valid mode
root:/$ ls -l
d-----x root normal
drwxrwx root test
drwxr-x root test operation not_permitted
-rw-r-- root test valid mode
-rw-r-- root test_invalid_mode
root:/$ chmod uoaaauuuoo-rrrrwwrwr "test valid mode"
/test valid mode
root:/$ ls -l
d-----x root normal
drwxrwx root test
drwxr-x root test operation not_permitted
------- root test valid mode
-rw-r-- root test_invalid_mode
root:/$ touch "test root recursive"
root:/$ chmod -r a=r /
/
/normal
/test
/test/test_..
/test operation not_permitted
/test operation not_permitted/testdir
/test root recursive
/test valid mode
/test_invalid_mode
root:/$ ls -l -d -a
dr--r-- root .
root:/$ ls -l
dr--r-- root normal
dr--r-- root test
dr--r-- root test operation not_permitted
-r--r-- root test root recursive
-r--r-- root test valid mode
-r--r-- root test_invalid_mode
root:/$ chmod -r a=rwx /
/
/normal
/test
/test/test_..
/test operation not_permitted
/test operation not_permitted/testdir
/test root recursive
/test valid mode
/test_invalid_mode
root:/$ mkdir -p test_recursive/dir
root:/$ touch test_recursive/file
root:/$ chown -r user test_recursive
root:/$ ls -l test_recursive
drwxr-x user dir
-rw-r-- user file
root:/$ su user
user:/$ chmod -r o-x test_recursive
/test_recursive
/test_recursive/dir
/test_recursive/file
user:/$ ls -l -d -a test_recursive
drwxr-- user test_recursive
user:/$ ls -l -a test_recursive
drwxr-- user .
drwxrwx root ..
drwxr-- user dir
-rw-r-- user file
user:/$ chmod -r u-x test_recursive
/test_recursive
/test_recursive/dir
chmod: Permission denied
/test_recursive/file
chmod: Permission denied
user:/$ ls -l -d test_recursive
drw-r-- user test_recursive
user:/$ ls -l test_recursive
drwxr-- user dir
-rw-r-- user file
user:/$ exit
bye, user
